!function(){"use strict";function r(r){$mvc.route.srcPath.path="",$mvc.route.srcPath.file="main";for(var e=r.split("/"),t=1;t<e.length;t++)t+1==e.length?$mvc.route.srcPath.file=e[t]:$mvc.route.srcPath.path=$mvc.route.srcPath.path+"/"+e[t];$mvc.route.requireHTML("/"+$mvc.route.srcPath.path+"/"+$mvc.route.srcPath.file+$mvc.route.srcPath.htmlSuffix,!1,document.body)}function e(r){var e={name:$mvc.route.resCurrent[r].url,url:$mvc.route.resCurrent[r].url,contentType:"application/ajax",finishCallback:function(e,o){e?($mvc.route.resCurrent[r].content=o,$mvc.route.resCurrent[r].progress=2):$mvc.route.resCurrent[r].progress=3,t()}};$mvc.sAjax(e)}function t(){for(var r=[],e=[],t=[],o=0;o<$mvc.route.resCurrent.length;o++){if(1==$mvc.route.resCurrent[o].progress)return;"html"==$mvc.route.resCurrent[o].type&&2==$mvc.route.resCurrent[o].progress?r.push($mvc.route.resCurrent[o]):"style"==$mvc.route.resCurrent[o].type&&2==$mvc.route.resCurrent[o].progress?e.push($mvc.route.resCurrent[o]):"script"==$mvc.route.resCurrent[o].type&&2==$mvc.route.resCurrent[o].progress&&t.push($mvc.route.resCurrent[o])}console.log(r,e,t);for(var o=0;o<e.length;o++)!function(){var r=document.createElement("style");r.title=e[o].url,r.innerHTML=e[o].content,e[o].global}()}$mvc.route={},$mvc.route.appIdentifer="App-"+String((new Date).getTime()),$mvc.route.resCurrent=[],$mvc.route.resMemory=[],$mvc.route.resNodeGlobal=document.createElement("res-global"),$mvc.route.resNodeCurrent=document.createElement("res-current"),$mvc.route.srcPath={},$mvc.route.srcPath.htmlSuffix=".html",$mvc.route.srcPath.styleSuffix=".css",$mvc.route.srcPath.scriptSuffix=".js",window.addEventListener("hashchange",function(e,t){e.preventDefault(),r(location.hash)}),$mvc.route.requireHTML=function(r,t,o){$mvc.console("log","load html:"+r),$mvc.route.resCurrent.push({url:r,type:"html",global:t,target:o,progress:1,content:null}),e($mvc.route.resCurrent.length-1)},$mvc.route.requireCSS=function(r,t){$mvc.console("log","load css:"+r),$mvc.route.resCurrent.push({url:r,type:"style",global:t,target:null,progress:1,content:null}),e($mvc.route.resCurrent.length-1)},$mvc.route.requireJS=function(r,t){$mvc.console("log","load js:"+r),$mvc.route.resCurrent.push({url:r,type:"script",global:t,target:null,progress:1,content:null}),e($mvc.route.resCurrent.length-1)},document.head.appendChild($mvc.route.resNodeGlobal),document.head.appendChild($mvc.route.resNodeCurrent),$mvc.onload(function(){$mvc.console("log","route start."),r(location.hash)},!1)}();